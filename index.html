<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Features Prototype - Component Gallery</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>
    <div class="page-header">
        <h1>New Features Button - Concept Gallery</h1>
        <p>Explore different implementations and behaviors</p>
    </div>

    <div class="grid-container">
        <!-- Grid Item 1: Basic with Badges -->
        <div class="grid-item">
            <div class="grid-label">
                <h3>1. Basic Badge Count</h3>
                <p>Shows number of new features</p>
            </div>
            <div class="demo-area">
                <button class="new-features-btn" id="btn1">
                    🎁 New Features
                    <span class="feature-count-badge">3</span>
                    <span class="dropdown-arrow">▼</span>
                </button>
            </div>
            <div class="behavior-details">
                <h4>📝 Behavior:</h4>
                <ul>
                    <li><strong>Badge Count:</strong> Shows # of features in the modal</li>
                    <li><strong>Disappears:</strong> When user clicks the button</li>
                    <li><strong>Updates:</strong> Real-time when new features are released</li>
                    <li><strong>Interaction:</strong> Click to see simple list with on/off toggles</li>
                </ul>
            </div>
        </div>

        <!-- Grid Item 2: With Release Notes Link -->
        <div class="grid-item">
            <div class="grid-label">
                <h3>2. With Release Notes</h3>
                <p>Links to detailed changelog</p>
            </div>
            <div class="demo-area">
                <button class="new-features-btn" id="btn2">
                    📋 New Features
                    <span class="dropdown-arrow">▼</span>
                </button>
            </div>
            <div class="behavior-details">
                <h4>📝 Behavior:</h4>
                <ul>
                    <li><strong>Link Location:</strong> "View Full Release Notes" appears in dropdown header</li>
                    <li><strong>Opens:</strong> Current doc with release notes updates, or a new web page!</li>
                    <li><strong>Content:</strong> Autogenerate from jira (or aha)</li>
                    <li><strong>Filterable:</strong> Search and filter by Features, Improvements, or Fixes</li>
                </ul>
            </div>
        </div>

        <!-- Grid Item 3: Confetti Celebration -->
        <div class="grid-item">
            <div class="grid-label">
                <h3>3. Celebration!</h3>
                <p>Triggers confetti when features enabled</p>
            </div>
            <div class="demo-area">
                <button class="new-features-btn" id="btn3">
                    🎉 New Features
                    <span class="dropdown-arrow">▼</span>
                </button>
            </div>
            <div class="behavior-details">
                <h4>📝 Behavior:</h4>
                <ul>
                    <li><strong>Triggers:</strong> When user toggles feature ON (not OFF)</li>
                    <li><strong>Duration:</strong> 3-second multi-burst confetti animation</li>
                    <li><strong>Notification:</strong> Toast message "🎉 [Feature] is now enabled!"</li>
                    <li><strong>Frequency:</strong> Once per feature enable (no repeat on same session)</li>
                </ul>
            </div>
        </div>

        <!-- Grid Item 4: Countdown Timers -->
        <div class="grid-item">
            <div class="grid-label">
                <h3>4. With Countdown Timers</h3>
                <p>Shows time until feature launch</p>
            </div>
            <div class="demo-area">
                <button class="new-features-btn" id="btn4">
                    ⏰ New Features
                    <span class="dropdown-arrow">▼</span>
                </button>
            </div>
            <div class="behavior-details">
                <h4>📝 Behavior:</h4>
                <ul>
                    <li><strong>Display:</strong> Progress bar showing time remaining with release date</li>
                    <li><strong>Time Format:</strong> Shows countdown above bar (e.g., "4d 23h 45m 12s")</li>
                    <li><strong>Updates:</strong> Every second in real-time</li>
                    <li><strong>At Launch:</strong> Shows "🚀 Available Now!" and toggle becomes active</li>
                </ul>
            </div>
        </div>

        <!-- Grid Item 5: Multiple Badge Types -->
        <div class="grid-item">
            <div class="grid-label">
                <h3>5. Multiple Badge Types</h3>
                <p>NEW, HOT, Coming Soon badges</p>
            </div>
            <div class="demo-area">
                <button class="new-features-btn" id="btn5">
                    🏷️ New Features
                    <span class="dropdown-arrow">▼</span>
                </button>
            </div>
            <div class="behavior-details">
                <h4>📝 Behavior:</h4>
                <ul>
                    <li><strong>NEW Badge:</strong> Red/pulsing - appears for 14 days after release</li>
                    <li><strong>HOT Badge:</strong> Pink/🔥 - shown when we expect the feature to be popular</li>
                    <li><strong>Coming Soon:</strong> Blue/⏰ - for features launching within 7 days</li>
                    <li><strong>Multiple:</strong> A feature can have multiple badges simultaneously</li>
                </ul>
            </div>
        </div>

        <!-- Grid Item 6: With Roadmap -->
        <div class="grid-item">
            <div class="grid-label">
                <h3>6. With Feature Roadmap</h3>
                <p>Shows timeline of past and future features</p>
            </div>
            <div class="demo-area">
                <button class="new-features-btn" id="btn6">
                    🗺️ New Features
                    <span class="dropdown-arrow">▼</span>
                </button>
            </div>
            <div class="behavior-details">
                <h4>📝 Behavior:</h4>
                <ul>
                    <li><strong>Link:</strong> "View Product Roadmap" button only (no suggestion button)</li>
                    <li><strong>Opens:</strong> External roadmap site in new tab</li>
                    <li><strong>Status Icons:</strong> ✓ Released, 🚀 In Progress, 📅 Upcoming</li>
                    <li><strong>Context:</strong> Shows quarter (Q3 2024) and timeline placement</li>
                </ul>
            </div>
        </div>

        <!-- Grid Item 7: With Adoption Metrics -->
        <div class="grid-item">
            <div class="grid-label">
                <h3>7. With Adoption Metrics</h3>
                <p>Shows feature adoption progress bars</p>
            </div>
            <div class="demo-area">
                <button class="new-features-btn" id="btn7">
                    📊 New Features
                    <span style="color: rgba(255,255,255,0.9); font-size: 0.85rem; font-weight: 600;">78%</span>
                    <span class="dropdown-arrow">▼</span>
                </button>
            </div>
            <div class="behavior-details">
                <h4>📝 Behavior:</h4>
                <ul>
                    <li><strong>Progress Bars:</strong> Visual percentage of users who enabled feature</li>
                    <li><strong>Updates:</strong> Real-time as users across org enable/disable</li>
                    <li><strong>Calculation:</strong> (Users w/ feature ON) / (Total active users)</li>
                    <li><strong>Increases:</strong> When YOU enable, shows your contribution to adoption</li>
                </ul>
            </div>
        </div>

        <!-- Grid Item 8: Feature Suggestions -->
        <div class="grid-item">
            <div class="grid-label">
                <h3>8. With Suggestion Form</h3>
                <p>Users can submit feature requests</p>
            </div>
            <div class="demo-area">
                <button class="new-features-btn" id="btn8">
                    💡 New Features
                    <span class="dropdown-arrow">▼</span>
                </button>
            </div>
            <div class="behavior-details">
                <h4>📝 Behavior:</h4>
                <ul>
                    <li><strong>Button Location:</strong> "💬 Suggest a Feature" in dropdown footer</li>
                    <li><strong>Opens:</strong> Modal with form (Title, Description, Priority)</li>
                    <li><strong>Submission:</strong> Triggers confetti + success notification</li>
                    <li><strong>Integration:</strong> Could connect to Jira, ProductBoard, or email</li>
                </ul>
            </div>
        </div>

        <!-- Grid Item 9: All Features Combined -->
        <div class="grid-item featured">
            <div class="grid-label">
                <h3>9. Full Experience (All Features)</h3>
                <p>Complete implementation with all enhancements</p>
            </div>
            <div class="demo-area">
                <button class="new-features-btn featured-btn" id="btn9">
                    🎁 New Features
                    <span class="feature-count-badge">3</span>
                    <span class="dropdown-arrow">▼</span>
                </button>
            </div>
            <div class="behavior-details">
                <h4>📝 Behavior:</h4>
                <ul>
                    <li><strong>Combines ALL:</strong> Badge count + Release notes + Confetti + Timers</li>
                    <li><strong>Smart Mixing:</strong> Shows appropriate badges per feature (NEW/HOT/countdown)</li>
                    <li><strong>Full Footer:</strong> Both "Suggest Feature" and "View Roadmap" buttons</li>
                    <li><strong>Complete UX:</strong> All metrics, animations, and interactions active</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Shared Dropdowns (rendered based on which button is clicked) -->
    <div class="features-dropdown" id="featuresDropdown">
        <div class="dropdown-header">
            <h3>New Features</h3>
            <a href="release-notes.html" class="view-all-link" target="_blank" id="releaseNotesLink" style="display: none;">
                📋 View Full Release Notes
            </a>
        </div>
        
        <div class="features-list" id="featuresList">
            <!-- Features will be dynamically inserted here -->
        </div>

        <div class="dropdown-footer" id="dropdownFooter" style="display: none;">
            <button class="feedback-btn" onclick="showFeedbackModal()">
                💬 Suggest a Feature
            </button>
            <a href="https://opengov-roadmap.vercel.app/roadmap" target="_blank" class="roadmap-link">
                🗺️ View Product Roadmap
                <span class="external-icon">↗</span>
            </a>
        </div>
    </div>

    <!-- Modals -->
    <div class="modal" id="feedbackModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeFeedbackModal()">&times;</span>
            <h2>Suggest a New Feature</h2>
            <form onsubmit="submitFeatureRequest(event)">
                <input type="text" placeholder="Feature Title" required>
                <textarea placeholder="Describe your feature idea..." rows="4" required></textarea>
                <select>
                    <option value="">Select Priority</option>
                    <option value="low">Nice to Have</option>
                    <option value="medium">Would Really Help</option>
                    <option value="high">Critical for My Work</option>
                </select>
                <button type="submit" class="submit-btn">Submit Request</button>
            </form>
        </div>
    </div>


    <script src="script.js"></script>
</body>
</html>

